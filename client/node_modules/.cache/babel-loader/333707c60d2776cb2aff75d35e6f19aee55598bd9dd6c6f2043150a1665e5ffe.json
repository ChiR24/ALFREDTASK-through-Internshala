{"ast":null,"code":"var _jsxFileName = \"X:\\\\GitHub\\\\ALFREDTASK through Internshala\\\\client\\\\src\\\\context\\\\ThemeContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect } from 'react';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ThemeContext = /*#__PURE__*/createContext(null);\nexport const useTheme = () => {\n  _s();\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n_s(useTheme, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const ThemeProvider = ({\n  children\n}) => {\n  _s2();\n  var _user$preferences2;\n  const {\n    user,\n    updatePreferences\n  } = useAuth();\n  useEffect(() => {\n    var _user$preferences$dar, _user$preferences;\n    // Set initial theme based on user preference or system preference\n    const isDark = (_user$preferences$dar = user === null || user === void 0 ? void 0 : (_user$preferences = user.preferences) === null || _user$preferences === void 0 ? void 0 : _user$preferences.darkMode) !== null && _user$preferences$dar !== void 0 ? _user$preferences$dar : window.matchMedia('(prefers-color-scheme: dark)').matches;\n    if (isDark) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [user === null || user === void 0 ? void 0 : (_user$preferences2 = user.preferences) === null || _user$preferences2 === void 0 ? void 0 : _user$preferences2.darkMode]);\n  const toggleTheme = async () => {\n    const isDark = document.documentElement.classList.contains('dark');\n    if (isDark) {\n      document.documentElement.classList.remove('dark');\n    } else {\n      document.documentElement.classList.add('dark');\n    }\n    if (user) {\n      await updatePreferences({\n        darkMode: !isDark\n      });\n    }\n  };\n  const value = {\n    isDark: document.documentElement.classList.contains('dark'),\n    toggleTheme\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 10\n  }, this);\n};\n_s2(ThemeProvider, \"SDy3siC2IRJ54Z5OesvuSyEKIJc=\", false, function () {\n  return [useAuth];\n});\n_c = ThemeProvider;\nvar _c;\n$RefreshReg$(_c, \"ThemeProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useAuth","jsxDEV","_jsxDEV","ThemeContext","useTheme","_s","context","Error","ThemeProvider","children","_s2","_user$preferences2","user","updatePreferences","_user$preferences$dar","_user$preferences","isDark","preferences","darkMode","window","matchMedia","matches","document","documentElement","classList","add","remove","toggleTheme","contains","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["X:/GitHub/ALFREDTASK through Internshala/client/src/context/ThemeContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect } from 'react';\r\nimport { useAuth } from './AuthContext';\r\n\r\nconst ThemeContext = createContext(null);\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeContext);\r\n  if (!context) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const ThemeProvider = ({ children }) => {\r\n  const { user, updatePreferences } = useAuth();\r\n\r\n  useEffect(() => {\r\n    // Set initial theme based on user preference or system preference\r\n    const isDark = user?.preferences?.darkMode ?? \r\n      window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n    \r\n    if (isDark) {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n  }, [user?.preferences?.darkMode]);\r\n\r\n  const toggleTheme = async () => {\r\n    const isDark = document.documentElement.classList.contains('dark');\r\n    if (isDark) {\r\n      document.documentElement.classList.remove('dark');\r\n    } else {\r\n      document.documentElement.classList.add('dark');\r\n    }\r\n    \r\n    if (user) {\r\n      await updatePreferences({ darkMode: !isDark });\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    isDark: document.documentElement.classList.contains('dark'),\r\n    toggleTheme\r\n  };\r\n\r\n  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;\r\n}; "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACnE,SAASC,OAAO,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,YAAY,gBAAGN,aAAa,CAAC,IAAI,CAAC;AAExC,OAAO,MAAMO,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,OAAO,GAAGR,UAAU,CAACK,YAAY,CAAC;EACxC,IAAI,CAACG,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,8CAA8C,CAAC;EACjE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,EAAA,CANWD,QAAQ;AAQrB,OAAO,MAAMI,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAAA,IAAAC,kBAAA;EAC7C,MAAM;IAAEC,IAAI;IAAEC;EAAkB,CAAC,GAAGb,OAAO,CAAC,CAAC;EAE7CD,SAAS,CAAC,MAAM;IAAA,IAAAe,qBAAA,EAAAC,iBAAA;IACd;IACA,MAAMC,MAAM,IAAAF,qBAAA,GAAGF,IAAI,aAAJA,IAAI,wBAAAG,iBAAA,GAAJH,IAAI,CAAEK,WAAW,cAAAF,iBAAA,uBAAjBA,iBAAA,CAAmBG,QAAQ,cAAAJ,qBAAA,cAAAA,qBAAA,GACxCK,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO;IAE3D,IAAIL,MAAM,EAAE;MACVM,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;IAChD,CAAC,MAAM;MACLH,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;IACnD;EACF,CAAC,EAAE,CAACd,IAAI,aAAJA,IAAI,wBAAAD,kBAAA,GAAJC,IAAI,CAAEK,WAAW,cAAAN,kBAAA,uBAAjBA,kBAAA,CAAmBO,QAAQ,CAAC,CAAC;EAEjC,MAAMS,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMX,MAAM,GAAGM,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACI,QAAQ,CAAC,MAAM,CAAC;IAClE,IAAIZ,MAAM,EAAE;MACVM,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;IACnD,CAAC,MAAM;MACLJ,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;IAChD;IAEA,IAAIb,IAAI,EAAE;MACR,MAAMC,iBAAiB,CAAC;QAAEK,QAAQ,EAAE,CAACF;MAAO,CAAC,CAAC;IAChD;EACF,CAAC;EAED,MAAMa,KAAK,GAAG;IACZb,MAAM,EAAEM,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACI,QAAQ,CAAC,MAAM,CAAC;IAC3DD;EACF,CAAC;EAED,oBAAOzB,OAAA,CAACC,YAAY,CAAC2B,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAApB,QAAA,EAAEA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAwB,CAAC;AAChF,CAAC;AAACxB,GAAA,CAlCWF,aAAa;EAAA,QACYR,OAAO;AAAA;AAAAmC,EAAA,GADhC3B,aAAa;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}